# DataStudio 总体设计

## 1. 总体介绍

DataStudio 是一栈式数据开发平台，面向 FlinkSQL 与 SparkSQL 提供统一的开发入口。

## 2. 领域信息

### 2.1 通用语言

- **Jupyter 兼容**：Notebook 文档与交互执行行为与 Jupyter Notebook 保持兼容。
- **集群**：一个可运行 Flink 或 Spark 的计算环境。
- **交互入口**：用于在线开发阶段提交并获得结果的入口。
- **Web 入口**：用于跳转到引擎侧页面定位运行状态的入口。
- **Notebook**：承载开发内容的文档。
- **单元**：Notebook 内的一个可运行片段。
- **参数**：运行时注入的变量集合。
- **交互执行**：面向开发阶段的交互式运行。
- **生产提交**：将开发成果提交为可长期运行的任务。

### 2.2 子域与限界上下文

- **集群管理域**：管理集群与入口信息。
- **Notebook 域**：管理 Notebook、单元与参数。
- **交互执行域**：提供交互执行与结果返回能力。
- **智能开发域**：提供校验与提示能力。
- **生产提交域**：提供生产提交与基础控制能力。
- **元数据域**：对接 Hive Metastore。

### 2.3 域依赖关系

- **Notebook域** 依赖 **集群管理域**：获取集群与 Web 入口用于可见性展示。
- **Notebook域** 依赖 **交互执行域**：触发交互执行并获取可展示的结果与错误信息。
- **Notebook域** 依赖 **智能开发域**：编辑期校验与提示。
- **Notebook域** 依赖 **生产提交域**：提交开发成果并展示追踪入口。
- **智能开发域** 依赖 **元数据域**：获取库表字段等元数据。
- **交互执行域** 与 **生产提交域** 依赖 **集群管理域**：使用交互入口与 Web 入口信息。

## 3. 各域能力

### 3.1 集群管理域

- 注册与管理 Flink、Spark 集群。
- 维护交互入口与 Web 入口。

### 3.2 Notebook 域

- 管理 Notebook 与单元内容。
- 提供参数化能力。
- Notebook 与单元模型与 Jupyter Notebook 保持兼容。

### 3.3 交互执行域

- 提供交互执行能力并返回结果与错误信息。
- 屏蔽 Flink 与 Spark 的交互入口差异。
- 交互执行模式与协议与 Jupyter Notebook 保持兼容。

### 3.4 智能开发域

- 提供 FlinkSQL 与 SparkSQL 的校验与提示能力。
- 基于 Hive Metastore 提供名称提示。

### 3.5 生产提交域

- 提供生产提交能力。
- 提供基础的状态查看与取消能力。

### 3.6 元数据域

- 对接 Hive Metastore。

