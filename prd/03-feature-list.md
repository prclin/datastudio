# DataStudio 功能清单

## 1. 总体说明

本文档以领域划分组织功能点，用于明确 DataStudio 在各域内提供的能力范围与验收口径。

## 2. 功能总览

- **集群管理域**：集群注册、维护、可用性查看、Web 入口展示。
- **Notebook 域**：Notebook/单元管理、参数定义与绑定默认集群。
- **交互执行域**：在线交互执行、结果/错误返回、执行终止。
- **智能开发域**：SQL 校验与提示（FlinkSQL/SparkSQL）。
- **生产提交域**：生产提交、状态查看、取消。
- **元数据域**：Hive Metastore 元数据查询能力。

## 3. 分域功能点

### 3.1 集群管理域

- **集群注册**
  - 支持新增 Flink/Spark 集群。
  - 验收：新增后可在列表中查询到集群，并可被 Notebook 选择。
- **集群维护**
  - 支持编辑集群信息与 Web 入口信息。
  - 验收：编辑后在详情与 Notebook 顶部展示信息同步更新。
- **集群下线**
  - 支持移除集群。
  - 验收：移除后不可再被选择；已引用该集群的 Notebook 能明确提示并要求重新选择。
- **集群可用性查看**
  - 支持查看集群是否可用（概念状态）。
  - 验收：列表/详情页可展示“可用/不可用”，并给出用户可理解的提示信息。

### 3.2 Notebook 域

- **Jupyter Notebook 兼容**
  - 支持与 Jupyter Notebook 文档模型兼容。
  - 验收：Notebook 可按 Jupyter Notebook 的文档语义组织单元与元信息，并可与 ipynb 进行导入/导出。
- **Notebook 创建与管理**
  - 支持创建、重命名、复制、删除 Notebook。
  - 验收：Notebook 在工作台中可被检索与打开；删除后不可再访问。
- **单元管理**
  - 支持新增/编辑/删除/排序单元。
  - 验收：单元内容与顺序保存后再次打开保持一致。
- **参数定义**
  - 支持定义参数集合，并在运行前输入参数值。
  - 验收：参数可在 Notebook 内被引用；未满足必填约束时禁止运行并提示。
- **默认集群绑定**
  - 支持为 Notebook 绑定默认集群。
  - 验收：打开 Notebook 时默认集群自动选中并可切换。

### 3.3 交互执行域

- **Jupyter 交互协议兼容**
  - 交互执行遵循 Jupyter Notebook 的交互模式与协议。
  - 验收：执行、停止/中断、状态与输出在语义上与 Jupyter Notebook 保持一致。
- **在线交互执行**
  - 支持对单元发起交互执行，并返回可展示的结果或错误信息。
  - 验收：用户可看到明确的运行状态与结果/错误信息。
- **停止执行**
  - 支持停止当前交互执行。
  - 验收：停止后运行状态结束，用户得到明确反馈。
- **执行可见性信息**
  - 支持返回与执行定位相关的 Web 入口信息，用于工作台展示。
  - 验收：Notebook 顶部可展示对应 Web 入口并可跳转。

### 3.4 智能开发域

- **SQL 校验**
  - 支持 FlinkSQL 与 SparkSQL 的编辑期校验。
  - 验收：编辑器中可展示错误位置与简要原因。
- **SQL 提示**
  - 支持 FlinkSQL 与 SparkSQL 的编辑期提示（关键字/名称）。
  - 验收：输入时能触发提示列表，且提示内容与当前上下文匹配。
- **元数据提示**
  - 基于 Hive Metastore 提供库/表/字段名称提示。
  - 验收：当元数据存在时可被提示；不存在时不应误提示。

### 3.5 生产提交域

- **生产提交**
  - 支持将开发成果提交为可长期运行的任务（Flink 作业 / Spark 任务）。
  - 验收：提交后返回可追踪信息，并能在工作台中查看。
- **状态查看**
  - 支持查看已提交任务的状态。
  - 验收：状态可刷新，并能给出用户可理解的状态描述。
- **取消任务**
  - 支持取消已提交任务（引擎支持时）。
  - 验收：取消后状态更新，且用户得到明确反馈。

### 3.6 元数据域

- **库列表**
  - 支持查询可用库列表。
  - 验收：智能开发域可基于该能力提供库名提示。
- **表列表**
  - 支持查询指定库下的表列表。
  - 验收：智能开发域可基于该能力提供表名提示。
- **表结构**
  - 支持查询表结构（字段与类型）。
  - 验收：智能开发域可基于该能力提供字段提示与校验依据。

